<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>File Source for TreeMenuXL.php,v</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
						<h1>Source for file TreeMenuXL.php,v</h1>
<p>Documentation is available at <a href="../default/_addons---treemenu---TreeMenuXL.php,v.html">TreeMenuXL.php,v</a></p>
<div class="src-code">
<div class="src-code"><ol><li><div class="src-line"><a name="a1"></a><span class="src-php">&lt;?php</span></div></li>
<li><div class="src-line"><a name="a2"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;TreeMenuXL.php</span></div></li>
<li><div class="src-line"><a name="a3"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Chip&nbsp;Chapin&nbsp;&lt;cchapin@chipchapin.com&gt;</span></div></li>
<li><div class="src-line"><a name="a4"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Defines&nbsp;classes&nbsp;HTML_TreeMenuXL&nbsp;and&nbsp;HTML_TreeNodeXL</span></div></li>
<li><div class="src-line"><a name="a5"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;An&nbsp;extension&nbsp;of&nbsp;Richard&nbsp;Heyes'&nbsp;HTML_TreeMenu</span></div></li>
<li><div class="src-line"><a name="a6"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;2002-12-02&nbsp;cc&nbsp;Restore&nbsp;lost&nbsp;bug&nbsp;fix&nbsp;in&nbsp;static&nbsp;printNode</span></div></li>
<li><div class="src-line"><a name="a7"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;2002-11-14&nbsp;cc&nbsp;Additional&nbsp;tweaks.</span></div></li>
<li><div class="src-line"><a name="a8"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;2002-11-12&nbsp;cc&nbsp;Major&nbsp;update&nbsp;for&nbsp;release&nbsp;1.1.0/XL2.0</span></div></li>
<li><div class="src-line"><a name="a9"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;2002-11-10&nbsp;cc&nbsp;Updated</span></div></li>
<li><div class="src-line"><a name="a10"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a11"></a><span class="src-comm">//&nbsp;+-----------------------------------------------------------------------+</span></div></li>
<li><div class="src-line"><a name="a12"></a><span class="src-comm">//&nbsp;|&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;Chip&nbsp;Chapin&nbsp;&lt;cchapin@chipchapin.com&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a13"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.chipchapin.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a14"></a><span class="src-comm">//&nbsp;|&nbsp;All&nbsp;rights&nbsp;reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a15"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a16"></a><span class="src-comm">//&nbsp;|&nbsp;Redistribution&nbsp;and&nbsp;use&nbsp;in&nbsp;source&nbsp;and&nbsp;binary&nbsp;forms,&nbsp;with&nbsp;or&nbsp;without&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a17"></a><span class="src-comm">//&nbsp;|&nbsp;modification,&nbsp;are&nbsp;permitted&nbsp;provided&nbsp;that&nbsp;the&nbsp;following&nbsp;conditions&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a18"></a><span class="src-comm">//&nbsp;|&nbsp;are&nbsp;met:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a19"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a20"></a><span class="src-comm">//&nbsp;|&nbsp;o&nbsp;Redistributions&nbsp;of&nbsp;source&nbsp;code&nbsp;must&nbsp;retain&nbsp;the&nbsp;above&nbsp;copyright&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a21"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a22"></a><span class="src-comm">//&nbsp;|&nbsp;o&nbsp;Redistributions&nbsp;in&nbsp;binary&nbsp;form&nbsp;must&nbsp;reproduce&nbsp;the&nbsp;above&nbsp;copyright&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a23"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer&nbsp;in&nbsp;the&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a24"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;documentation&nbsp;and/or&nbsp;other&nbsp;materials&nbsp;provided&nbsp;with&nbsp;the&nbsp;distribution.|&nbsp;</span></div></li>
<li><div class="src-line"><a name="a25"></a><span class="src-comm">//&nbsp;|&nbsp;o&nbsp;The&nbsp;names&nbsp;of&nbsp;the&nbsp;authors&nbsp;may&nbsp;not&nbsp;be&nbsp;used&nbsp;to&nbsp;endorse&nbsp;or&nbsp;promote&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a26"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;products&nbsp;derived&nbsp;from&nbsp;this&nbsp;software&nbsp;without&nbsp;specific&nbsp;prior&nbsp;written&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a27"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;permission.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a28"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a29"></a><span class="src-comm">//&nbsp;|&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;BY&nbsp;THE&nbsp;COPYRIGHT&nbsp;HOLDERS&nbsp;AND&nbsp;CONTRIBUTORS&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a30"></a><span class="src-comm">//&nbsp;|&nbsp;&quot;AS&nbsp;IS&quot;&nbsp;AND&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED&nbsp;WARRANTIES,&nbsp;INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a31"></a><span class="src-comm">//&nbsp;|&nbsp;LIMITED&nbsp;TO,&nbsp;THE&nbsp;IMPLIED&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY&nbsp;AND&nbsp;FITNESS&nbsp;FOR&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a32"></a><span class="src-comm">//&nbsp;|&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE&nbsp;ARE&nbsp;DISCLAIMED.&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE&nbsp;COPYRIGHT&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a33"></a><span class="src-comm">//&nbsp;|&nbsp;OWNER&nbsp;OR&nbsp;CONTRIBUTORS&nbsp;BE&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;DIRECT,&nbsp;INDIRECT,&nbsp;INCIDENTAL,&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a34"></a><span class="src-comm">//&nbsp;|&nbsp;SPECIAL,&nbsp;EXEMPLARY,&nbsp;OR&nbsp;CONSEQUENTIAL&nbsp;DAMAGES&nbsp;(INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a35"></a><span class="src-comm">//&nbsp;|&nbsp;LIMITED&nbsp;TO,&nbsp;PROCUREMENT&nbsp;OF&nbsp;SUBSTITUTE&nbsp;GOODS&nbsp;OR&nbsp;SERVICES;&nbsp;LOSS&nbsp;OF&nbsp;USE,&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a36"></a><span class="src-comm">//&nbsp;|&nbsp;DATA,&nbsp;OR&nbsp;PROFITS;&nbsp;OR&nbsp;BUSINESS&nbsp;INTERRUPTION)&nbsp;HOWEVER&nbsp;CAUSED&nbsp;AND&nbsp;ON&nbsp;ANY&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a37"></a><span class="src-comm">//&nbsp;|&nbsp;THEORY&nbsp;OF&nbsp;LIABILITY,&nbsp;WHETHER&nbsp;IN&nbsp;CONTRACT,&nbsp;STRICT&nbsp;LIABILITY,&nbsp;OR&nbsp;TORT&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a38"></a><span class="src-comm">//&nbsp;|&nbsp;(INCLUDING&nbsp;NEGLIGENCE&nbsp;OR&nbsp;OTHERWISE)&nbsp;ARISING&nbsp;IN&nbsp;ANY&nbsp;WAY&nbsp;OUT&nbsp;OF&nbsp;THE&nbsp;USE&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a39"></a><span class="src-comm">//&nbsp;|&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE,&nbsp;EVEN&nbsp;IF&nbsp;ADVISED&nbsp;OF&nbsp;THE&nbsp;POSSIBILITY&nbsp;OF&nbsp;SUCH&nbsp;DAMAGE.&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a40"></a><span class="src-comm">//&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a41"></a><span class="src-comm">//&nbsp;+-----------------------------------------------------------------------+</span></div></li>
<li><div class="src-line"><a name="a42"></a><span class="src-comm">//&nbsp;|&nbsp;Author:&nbsp;Chip&nbsp;Chapin&nbsp;&lt;cchapin@chipchapin.com&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span></div></li>
<li><div class="src-line"><a name="a43"></a><span class="src-comm">//&nbsp;+-----------------------------------------------------------------------+</span></div></li>
<li><div class="src-line"><a name="a44"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a45"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Check&nbsp;local&nbsp;directory&nbsp;first,&nbsp;then&nbsp;check&nbsp;system&nbsp;directory.</span></div></li>
<li><div class="src-line"><a name="a46"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;This&nbsp;facilitates&nbsp;local&nbsp;mods&nbsp;and&nbsp;testing.</span></div></li>
<li><div class="src-line"><a name="a47"></a>&nbsp;&nbsp;<span class="src-inc">include_once&nbsp;</span><span class="src-sym">(</span><span class="src-str">'addons/treemenu/TreeMenu.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a48"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a49"></a>&nbsp;&nbsp;<span class="src-comm">/*&nbsp;Not-quite&nbsp;Obsolete&nbsp;as&nbsp;of&nbsp;HTML_TreeMenu&nbsp;1.1&nbsp;*/</span></div></li>
<li><div class="src-line"><a name="a50"></a>&nbsp;&nbsp;<span class="src-inc">include_once&nbsp;</span><span class="src-sym">(</span><span class="src-str">'addons/treemenu/ccBrowserInfo.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a51"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a52"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Browser&nbsp;detection&nbsp;determines&nbsp;whether&nbsp;we&nbsp;generate&nbsp;DHTML&nbsp;menus</span></div></li>
<li><div class="src-line"><a name="a53"></a>&nbsp;&nbsp;<span class="src-key">static&nbsp;</span><span class="src-var">$tmsDoesMenus&nbsp;</span>=&nbsp;<span class="src-str">'maybe'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a54"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">/**/</span></div></li>
<li><div class="src-line"><a name="a55"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a56"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a57"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a58"></a><span class="src-comm">//&nbsp;&nbsp;class&nbsp;HTML_TreeMenuXL&nbsp;extends&nbsp;HTML_TreeMenu</span></div></li>
<li><div class="src-line"><a name="a59"></a><span class="src-comm">//&nbsp;&nbsp;As&nbsp;of&nbsp;1.1,&nbsp;the&nbsp;only&nbsp;remaining&nbsp;changes&nbsp;in&nbsp;this&nbsp;class&nbsp;are</span></div></li>
<li><div class="src-line"><a name="a60"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;Support&nbsp;setProperties(&nbsp;array&nbsp;)&nbsp;and&nbsp;unsetProperties(&nbsp;array&nbsp;)&nbsp;member&nbsp;functions</span></div></li>
<li><div class="src-line"><a name="a61"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These&nbsp;can&nbsp;probably&nbsp;be&nbsp;removed&nbsp;now.</span></div></li>
<li><div class="src-line"><a name="a62"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a63"></a><span class="src-key">class&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeMenuXL.html">HTML_TreeMenuXL</a>&nbsp;<span class="src-key">extends&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeMenu.html">HTML_TreeMenu</a></div></li>
<li><div class="src-line"><a name="a64"></a><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a65"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a66"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;setProperties&nbsp;--&nbsp;update&nbsp;the&nbsp;property&nbsp;list&nbsp;for&nbsp;this&nbsp;object.</span></div></li>
<li><div class="src-line"><a name="a67"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeMenuXL.html#methodsetProperties">setProperties</a><span class="src-sym">(&nbsp;</span><span class="src-var">$pl</span>=<span class="src-id">null&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a68"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a69"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">)&nbsp;</span>||&nbsp;<span class="src-sym">!</span><a href="http://www.php.net/is_array">is_array</a><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">))&nbsp;</span><span class="src-key">return&nbsp;</span><span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a70"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$pl&nbsp;</span><span class="src-key">as&nbsp;</span><span class="src-var">$pname&nbsp;</span>=&gt;&nbsp;<span class="src-var">$pval</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a71"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//$this-&gt;properties[$pname]&nbsp;=&nbsp;$pval;</span></div></li>
<li><div class="src-line"><a name="a72"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">$pname&nbsp;</span>=&nbsp;<span class="src-var">$pval</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a73"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a74"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a75"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;setProperties</span></div></li>
<li><div class="src-line"><a name="a76"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a77"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a78"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;unsetProperties&nbsp;--&nbsp;remove&nbsp;property&nbsp;list&nbsp;entries&nbsp;for&nbsp;this&nbsp;object.</span></div></li>
<li><div class="src-line"><a name="a79"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeMenuXL.html#methodunsetProperties">unsetProperties</a><span class="src-sym">(&nbsp;</span><span class="src-var">$pl</span>=<span class="src-id">null&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a80"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a81"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">)&nbsp;</span>||&nbsp;<span class="src-sym">!</span><a href="http://www.php.net/is_array">is_array</a><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">))&nbsp;</span><span class="src-key">return&nbsp;</span><span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a82"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$pl&nbsp;</span><span class="src-key">as&nbsp;</span><span class="src-var">$pname</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a83"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;unset($this-&gt;properties[$pname]);</span></div></li>
<li><div class="src-line"><a name="a84"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">$pname</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a85"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Hack</span></div></li>
<li><div class="src-line"><a name="a86"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-var">$pname&nbsp;</span>==&nbsp;<span class="src-str">'expanded'&nbsp;</span>||&nbsp;<span class="src-var">$pname&nbsp;</span>==&nbsp;<span class="src-str">'selected'</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a87"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Propagate&nbsp;removal&nbsp;to&nbsp;all&nbsp;child&nbsp;nodes.</span></div></li>
<li><div class="src-line"><a name="a88"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>&lt;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">items</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">items</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">-&gt;</span><span class="src-id">unsetChildProperties</span><span class="src-sym">(&nbsp;</span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-var">$pname</span><span class="src-sym">)&nbsp;)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a89"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a90"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a91"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a92"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;unsetProperties</span></div></li>
<li><div class="src-line"><a name="a93"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a94"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a95"></a><span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;class&nbsp;HTML_TreeMenuXL</span></div></li>
<li><div class="src-line"><a name="a96"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a97"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a98"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a99"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a100"></a><span class="src-comm">//&nbsp;class&nbsp;HTML_TreeNodeXL&nbsp;extends&nbsp;HTML_TreeNode</span></div></li>
<li><div class="src-line"><a name="a101"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;Provides&nbsp;the&nbsp;following&nbsp;extensions&nbsp;over&nbsp;TreeNode&nbsp;1.1</span></div></li>
<li><div class="src-line"><a name="a102"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;1.&nbsp;Flexible&nbsp;interface&nbsp;(mix&nbsp;of&nbsp;positional&nbsp;and&nbsp;property&nbsp;list&nbsp;args)</span></div></li>
<li><div class="src-line"><a name="a103"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;2.&nbsp;Some&nbsp;additional&nbsp;property&nbsp;setting&nbsp;functions</span></div></li>
<li><div class="src-line"><a name="a104"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a105"></a><span class="src-key">class&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeNodeXL.html">HTML_TreeNodeXL</a>&nbsp;<span class="src-key">extends&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeNode.html">HTML_TreeNode</a></div></li>
<li><div class="src-line"><a name="a106"></a><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a107"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a108"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Constructor</span></div></li>
<li><div class="src-line"><a name="a109"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Supports&nbsp;a&nbsp;flexible&nbsp;interface:</span></div></li>
<li><div class="src-line"><a name="a110"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;&nbsp;HTML_TreeNodeXL(&nbsp;[$text&nbsp;[,&nbsp;$link&nbsp;[,&nbsp;$icon&nbsp;[,&nbsp;$expanded&nbsp;[,&nbsp;$isDynamic&nbsp;[,&nbsp;$cssClass]]]]]]&nbsp;[array]&nbsp;)</span></div></li>
<li><div class="src-line"><a name="a111"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeNodeXL.html#methodHTML_TreeNodeXL">HTML_TreeNodeXL</a><span class="src-sym">(&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a112"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a113"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id"><a href="../HTML_TreeMenu/HTML_TreeNode.html">HTML_TreeNode</a></span><span class="src-sym">::</span><a href="../HTML_TreeMenu/HTML_TreeNode.html#methodHTML_TreeNode">HTML_TreeNode</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a114"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$numargs&nbsp;</span>=&nbsp;<a href="http://www.php.net/func_num_args">func_num_args</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a115"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$numargs&nbsp;</span>=&nbsp;<a href="http://www.php.net/min">min</a><span class="src-sym">(</span><span class="src-num">6</span><span class="src-sym">,&nbsp;</span><span class="src-var">$numargs</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a116"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$arglist&nbsp;</span>=&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'text'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'link'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'icon'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'expanded'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'isDynamic'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'cssClass'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a117"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>&lt;<span class="src-var">$numargs</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a118"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$a&nbsp;</span>=<span class="src-sym">&amp;&nbsp;</span><a href="http://www.php.net/func_get_arg">func_get_arg</a><span class="src-sym">(</span><span class="src-var">$i</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a119"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><a href="http://www.php.net/is_array">is_array</a><span class="src-sym">(&nbsp;</span><span class="src-var">$a&nbsp;</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a120"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Array&nbsp;is&nbsp;always&nbsp;the&nbsp;last&nbsp;argument.&nbsp;&nbsp;Ignore&nbsp;anything&nbsp;else.</span></div></li>
<li><div class="src-line"><a name="a121"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../HTML_TreeMenu/HTML_TreeNodeXL.html#methodsetProperties">setProperties</a><span class="src-sym">(&nbsp;</span><span class="src-var">$a&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a122"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">break</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a123"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a124"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">$arglist</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]&nbsp;</span>=&nbsp;<span class="src-var">$a</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a125"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a126"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../HTML_TreeMenu/HTML_TreeNodeXL.html#method_checkProperties">_checkProperties</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a127"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;HTML_TreeNodeXL&nbsp;constructor</span></div></li>
<li><div class="src-line"><a name="a128"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a129"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a130"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;setProperties&nbsp;--&nbsp;update&nbsp;the&nbsp;property&nbsp;list&nbsp;for&nbsp;this&nbsp;object.</span></div></li>
<li><div class="src-line"><a name="a131"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeNodeXL.html#methodsetProperties">setProperties</a><span class="src-sym">(&nbsp;</span><span class="src-var">$pl</span>=<span class="src-id">null&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a132"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a133"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">)&nbsp;</span>||&nbsp;<span class="src-sym">!</span><a href="http://www.php.net/is_array">is_array</a><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">))&nbsp;</span><span class="src-key">return&nbsp;</span><span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a134"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">foreach&nbsp;</span><span class="src-sym">(</span><span class="src-var">$pl&nbsp;</span><span class="src-key">as&nbsp;</span><span class="src-var">$pname&nbsp;</span>=&gt;&nbsp;<span class="src-var">$pval</span><span class="src-sym">)&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">$pname&nbsp;</span>=&nbsp;<span class="src-var">$pval</span><span class="src-sym">;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a135"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a136"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;setProperties</span></div></li>
<li><div class="src-line"><a name="a137"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a138"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a139"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;setChildProperties&nbsp;--&nbsp;update&nbsp;the&nbsp;property&nbsp;list&nbsp;for&nbsp;this&nbsp;object&nbsp;and&nbsp;its&nbsp;children</span></div></li>
<li><div class="src-line"><a name="a140"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeNodeXL.html#methodsetChildProperties">setChildProperties</a><span class="src-sym">(&nbsp;</span><span class="src-var">$pl</span>=<span class="src-id">null&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a141"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a142"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../HTML_TreeMenu/HTML_TreeNodeXL.html#methodsetProperties">setProperties</a><span class="src-sym">(&nbsp;</span><span class="src-var">$pl&nbsp;</span><span class="src-sym">))&nbsp;</span><span class="src-key">return&nbsp;</span><span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a143"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>&lt;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">items</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">items</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">-&gt;</span><span class="src-id">setChildProperties</span><span class="src-sym">(&nbsp;</span><span class="src-var">$pl&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a144"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a145"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;setChildProperties</span></div></li>
<li><div class="src-line"><a name="a146"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a147"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a148"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;unsetChildProperties&nbsp;--&nbsp;remove&nbsp;property&nbsp;list&nbsp;entries&nbsp;for&nbsp;this&nbsp;object&nbsp;and&nbsp;its&nbsp;children</span></div></li>
<li><div class="src-line"><a name="a149"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;2002-11-12&nbsp;Probably&nbsp;no&nbsp;longer&nbsp;necessary</span></div></li>
<li><div class="src-line"><a name="a150"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeNodeXL.html#methodunsetChildProperties">unsetChildProperties</a><span class="src-sym">(&nbsp;</span><span class="src-var">$pl</span>=<span class="src-id">null&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a151"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a152"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">)&nbsp;</span>||&nbsp;<span class="src-sym">!</span><a href="http://www.php.net/is_array">is_array</a><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">))&nbsp;</span><span class="src-key">return&nbsp;</span><span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a153"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$pl&nbsp;</span><span class="src-key">as&nbsp;</span><span class="src-var">$pname</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a154"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//unset($this-&gt;properties[$pname]);</span></div></li>
<li><div class="src-line"><a name="a155"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">$pname</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a156"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a157"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>&lt;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">items</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">items</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">-&gt;</span><span class="src-id">unsetChildProperties</span><span class="src-sym">(&nbsp;</span><span class="src-var">$pl&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a158"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a159"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;unsetChildProperties</span></div></li>
<li><div class="src-line"><a name="a160"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a161"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a162"></a>&nbsp;&nbsp;<span class="src-comm">///////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a163"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;HTML_TreeNodeXL&nbsp;Helper&nbsp;Functions</span></div></li>
<li><div class="src-line"><a name="a164"></a>&nbsp;&nbsp;<span class="src-comm">///////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a165"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a166"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Check&nbsp;object&nbsp;for&nbsp;required&nbsp;properties.&nbsp;&nbsp;Set&nbsp;them&nbsp;to&nbsp;defaults&nbsp;if&nbsp;not&nbsp;present.</span></div></li>
<li><div class="src-line"><a name="a167"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../HTML_TreeMenu/HTML_TreeNodeXL.html#method_checkProperties">_checkProperties</a><span class="src-sym">(</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a168"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a169"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$pdefaults&nbsp;</span>=&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'text'</span>=&gt;<span class="src-str">'[item]'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a170"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'icon'</span>=&gt;<span class="src-id">null</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a171"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'link'</span>=&gt;<span class="src-str">'#'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a172"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'expanded'</span>=&gt;<span class="src-id">false</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a173"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'isDynamic'</span>=&gt;<span class="src-id">true&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a174"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$pdefaults&nbsp;</span><span class="src-key">as&nbsp;</span><span class="src-var">$pname&nbsp;</span>=&gt;&nbsp;<span class="src-var">$pval</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a175"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span>isset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">$pname</span><span class="src-sym">))&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">$pname&nbsp;</span>=&nbsp;<span class="src-var">$pval</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a176"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a177"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a178"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;_checkProperties</span></div></li>
<li><div class="src-line"><a name="a179"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a180"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a181"></a><span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;class&nbsp;HTML_TreeNodeXL</span></div></li>
<li><div class="src-line"><a name="a182"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a183"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a184"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a185"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a186"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a187"></a><span class="src-comm">//&nbsp;&nbsp;class&nbsp;HTML_TreeMenu_DHTMLXL&nbsp;extends&nbsp;HTML_TreeMenu_DHTML</span></div></li>
<li><div class="src-line"><a name="a188"></a><span class="src-comm">//&nbsp;&nbsp;Presentation&nbsp;class&nbsp;new&nbsp;for&nbsp;1.1.&nbsp;&nbsp;Most&nbsp;of&nbsp;the&nbsp;XL&nbsp;functionality&nbsp;no&nbsp;longer&nbsp;in&nbsp;the&nbsp;</span></div></li>
<li><div class="src-line"><a name="a189"></a><span class="src-comm">//&nbsp;&nbsp;base&nbsp;classes&nbsp;is&nbsp;here.&nbsp;&nbsp;Browser&nbsp;detection&nbsp;for&nbsp;static&nbsp;menus&nbsp;has&nbsp;been&nbsp;removed.</span></div></li>
<li><div class="src-line"><a name="a190"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;Alternate&nbsp;implementation&nbsp;of&nbsp;&quot;expanded&quot;&nbsp;(TODO:&nbsp;check&nbsp;this&nbsp;against&nbsp;1.1&nbsp;changes,</span></div></li>
<li><div class="src-line"><a name="a191"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may&nbsp;no&nbsp;longer&nbsp;be&nbsp;necessary).</span></div></li>
<li><div class="src-line"><a name="a192"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;Implements&nbsp;auto-expansion&nbsp;and&nbsp;highlighting&nbsp;of&nbsp;selected&nbsp;nodes.</span></div></li>
<li><div class="src-line"><a name="a193"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a194"></a><span class="src-key">class&nbsp;</span><a href="../default/HTML_TreeMenu_DHTMLXL.html">HTML_TreeMenu_DHTMLXL</a>&nbsp;<span class="src-key">extends&nbsp;</span><a href="../default/HTML_TreeMenu_DHTML.html#methodHTML_TreeMenu_DHTML">HTML_TreeMenu_DHTML</a></div></li>
<li><div class="src-line"><a name="a195"></a><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a196"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a197"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Constructor</span></div></li>
<li><div class="src-line"><a name="a198"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_DHTMLXL.html#methodHTML_TreeMenu_DHTMLXL">HTML_TreeMenu_DHTMLXL</a><span class="src-sym">(</span><span class="src-var">$structure</span><span class="src-sym">,&nbsp;</span><span class="src-var">$options&nbsp;</span>=&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">))</span></div></li>
<li><div class="src-line"><a name="a199"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a200"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$defaultProperties">defaultProperties</a><span class="src-sym">[</span><span class="src-str">'selectedStyle'</span><span class="src-sym">]&nbsp;</span>=&nbsp;<span class="src-str">'tmenuSelected'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a201"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$defaultProperties">defaultProperties</a><span class="src-sym">[</span><span class="src-str">'brOK'</span><span class="src-sym">]&nbsp;</span>=&nbsp;<span class="src-id">null</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a202"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../default/HTML_TreeMenu_DHTML.html#methodHTML_TreeMenu_DHTML">HTML_TreeMenu_DHTML</a><span class="src-sym">::</span><a href="../default/HTML_TreeMenu_DHTML.html#methodHTML_TreeMenu_DHTML">HTML_TreeMenu_DHTML</a><span class="src-sym">(</span><span class="src-var">$structure</span><span class="src-sym">,&nbsp;</span><span class="src-var">$options</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a203"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;HTML_TreeMenu_DHTMLXL</span></div></li>
<li><div class="src-line"><a name="a204"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a205"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a206"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;toHTML&nbsp;--&nbsp;Returns&nbsp;HTML&nbsp;string&nbsp;for&nbsp;the&nbsp;menu</span></div></li>
<li><div class="src-line"><a name="a207"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_DHTMLXL.html#methodtoHTML">toHTML</a><span class="src-sym">(</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a208"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a209"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;I'm&nbsp;Still&nbsp;having&nbsp;erratic&nbsp;problems&nbsp;with&nbsp;NN4</span></div></li>
<li><div class="src-line"><a name="a210"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Hence&nbsp;this&nbsp;check.</span></div></li>
<li><div class="src-line"><a name="a211"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-var">$GLOBALS</span><span class="src-sym">[</span><span class="src-str">'tmsDoesMenus'</span><span class="src-sym">]&nbsp;</span>==&nbsp;<span class="src-str">'maybe'</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a212"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$tmb&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/ccBrowserInfo.html">ccBrowserInfo</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a213"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$GLOBALS</span><span class="src-sym">[</span><span class="src-str">'tmsDoesMenus'</span><span class="src-sym">]&nbsp;</span>=&nbsp;<span class="src-sym">(</span><span class="src-var">$tmb</span><span class="src-sym">-&gt;</span><span class="src-id">is_ie5up</span><span class="src-sym">(</span><span class="src-sym">)&nbsp;</span>||&nbsp;<span class="src-var">$tmb</span><span class="src-sym">-&gt;</span><span class="src-id">is_moz5up</span><span class="src-sym">(</span><span class="src-sym">))</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a214"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a215"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$GLOBALS</span><span class="src-sym">[</span><span class="src-str">'tmsDoesMenus'</span><span class="src-sym">]</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a216"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this_sucks&nbsp;</span>=&nbsp;<span class="src-sym">&amp;</span><span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/HTML_TreeMenu_RigidXL.html">HTML_TreeMenu_RigidXL</a></span><span class="src-sym">(&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">,&nbsp;</span></div></li>
<li><div class="src-line"><a name="a217"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'images'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">images</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a218"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'defaultClass'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">defaultClass</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a219"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'autostyles'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">autostyles</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a220"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'linkSelectKey'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">linkSelectKey</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a221"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'lineImageWidth'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">lineImageWidth</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a222"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'lineImageHeight'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">lineImageHeight</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a223"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'iconImageWidth'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">iconImageWidth</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a224"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'iconImageHeight'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">iconImageHeight</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a225"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'linkTarget'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">linkTarget</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a226"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'selectedStyle'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">selectedStyle</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a227"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'brOK'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">brOK</span><span class="src-sym">))</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a228"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-var">$this_sucks</span><span class="src-sym">-&gt;</span><span class="src-id">toHTML</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a229"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a230"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a231"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Expand&nbsp;the&nbsp;branch(es),&nbsp;if&nbsp;any,&nbsp;that&nbsp;contain&nbsp;nodes&nbsp;with&nbsp;matching&nbsp;links.</span></div></li>
<li><div class="src-line"><a name="a232"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">linkSelectKey</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a233"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$keys&nbsp;</span>=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">linkSelectKey</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a234"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><a href="http://www.php.net/is_array">is_array</a><span class="src-sym">(</span><span class="src-var">$keys</span><span class="src-sym">))&nbsp;</span><span class="src-var">$keys&nbsp;</span>=&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-var">$keys</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a235"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">foreach&nbsp;</span><span class="src-sym">(</span><span class="src-var">$keys&nbsp;</span><span class="src-key">as&nbsp;</span><span class="src-var">$key</span><span class="src-sym">)&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_DHTMLXL.html#method_expandSelected">_expandSelected</a><span class="src-sym">(&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">,&nbsp;</span><span class="src-var">$key&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a236"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a237"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a238"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Is&nbsp;the&nbsp;entire&nbsp;menu&nbsp;&quot;expanded&quot;?&nbsp;&nbsp;Then&nbsp;make&nbsp;it&nbsp;so...</span></div></li>
<li><div class="src-line"><a name="a239"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">expanded</span><span class="src-sym">)&nbsp;</span>&amp;&amp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">expanded</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a240"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>&lt;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span></div></li>
<li><div class="src-line"><a name="a241"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">-&gt;</span><span class="src-id">setChildProperties</span><span class="src-sym">(&nbsp;</span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'expanded'</span>=&gt;<span class="src-id">true</span><span class="src-sym">)&nbsp;)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a242"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a243"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a244"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><a href="../default/HTML_TreeMenu_DHTML.html#methodHTML_TreeMenu_DHTML">HTML_TreeMenu_DHTML</a><span class="src-sym">::</span><a href="../default/HTML_TreeMenu_DHTML.html#methodtoHTML">toHTML</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a245"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;toHTML</span></div></li>
<li><div class="src-line"><a name="a246"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a247"></a>&nbsp;&nbsp;<span class="src-comm">/////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a248"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;HTML_TreeMenu_DHTMLXL&nbsp;Helper&nbsp;Functions</span></div></li>
<li><div class="src-line"><a name="a249"></a>&nbsp;&nbsp;<span class="src-comm">/////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a250"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a251"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;_expandSelected&nbsp;--&nbsp;Expand&nbsp;the&nbsp;branch(es),&nbsp;if&nbsp;any&nbsp;that&nbsp;contain&nbsp;nodes&nbsp;</span></div></li>
<li><div class="src-line"><a name="a252"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;with&nbsp;matching&nbsp;links.</span></div></li>
<li><div class="src-line"><a name="a253"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Note:&nbsp;when&nbsp;called&nbsp;the&nbsp;first&nbsp;time&nbsp;$node&nbsp;is&nbsp;the&nbsp;menu&nbsp;object</span></div></li>
<li><div class="src-line"><a name="a254"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_DHTMLXL.html#method_expandSelected">_expandSelected</a><span class="src-sym">(&nbsp;</span><span class="src-sym">&amp;</span><span class="src-var">$node</span><span class="src-sym">,&nbsp;</span><span class="src-var">$key&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a255"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a256"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-var">$key&nbsp;</span>==&nbsp;<span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">link</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">link&nbsp;</span>:&nbsp;<span class="src-id">null</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a257"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">_ensureVisible</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a258"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">selected&nbsp;</span>=&nbsp;<span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a259"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a260"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>&lt;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_DHTMLXL.html#method_expandSelected">_expandSelected</a><span class="src-sym">(&nbsp;</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">,&nbsp;</span><span class="src-var">$key&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a261"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;_expandSelected</span></div></li>
<li><div class="src-line"><a name="a262"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a263"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a264"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;_nodeToHTML&nbsp;--&nbsp;Generate&nbsp;JavaScript&nbsp;for&nbsp;this&nbsp;node.</span></div></li>
<li><div class="src-line"><a name="a265"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_DHTMLXL.html#method_nodeToHTML">_nodeToHTML</a><span class="src-sym">(</span><span class="src-var">$nodeObj</span><span class="src-sym">,&nbsp;</span><span class="src-var">$prefix</span><span class="src-sym">,&nbsp;</span><span class="src-var">$return&nbsp;</span>=&nbsp;<span class="src-str">'newNode'</span><span class="src-sym">,&nbsp;</span><span class="src-var">$treelevel&nbsp;</span>=&nbsp;<span class="src-num">0</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a266"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a267"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$html&nbsp;</span>=&nbsp;<a href="../default/HTML_TreeMenu_DHTML.html#methodHTML_TreeMenu_DHTML">HTML_TreeMenu_DHTML</a><span class="src-sym">::</span><span class="src-id">_nodeToHTML</span><span class="src-sym">(</span><span class="src-var">$nodeObj</span><span class="src-sym">,&nbsp;</span><span class="src-var">$prefix</span><span class="src-sym">,&nbsp;</span><span class="src-var">$return</span><span class="src-sym">,&nbsp;</span><span class="src-var">$treelevel</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a268"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a269"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Set&nbsp;javascript&nbsp;values&nbsp;for&nbsp;image&nbsp;sizes&nbsp;for&nbsp;this&nbsp;node</span></div></li>
<li><div class="src-line"><a name="a270"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$nodeprops&nbsp;</span>=&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'iconImageWidth'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'iconImageHeight'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'lineImageWidth'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'lineImageHeight'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a271"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">foreach&nbsp;</span><span class="src-sym">(</span><span class="src-var">$nodeprops&nbsp;</span><span class="src-key">as&nbsp;</span><span class="src-var">$nprop</span><span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a272"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Image&nbsp;sizes:&nbsp;set&nbsp;from&nbsp;node&nbsp;or&nbsp;presentation&nbsp;object.</span></div></li>
<li><div class="src-line"><a name="a273"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$nodeObj</span><span class="src-sym">-&gt;</span><span class="src-var">$nprop</span><span class="src-sym">))&nbsp;</span>$<span class="src-var">$nprop&nbsp;</span>=&nbsp;<span class="src-var">$nodeObj</span><span class="src-sym">-&gt;</span><span class="src-var">$nprop</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a274"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">else&nbsp;</span>$<span class="src-var">$nprop&nbsp;</span>=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">$nprop</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a275"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$html&nbsp;</span>.=&nbsp;<span class="src-str">&quot;</span><span class="src-str">\t<span class="src-var">$return</span>.</span><span class="src-str">&quot;&nbsp;</span>.&nbsp;<span class="src-var">$nprop&nbsp;</span>.&nbsp;<span class="src-str">'='&nbsp;</span>.&nbsp;$<span class="src-var">$nprop&nbsp;</span>.&nbsp;<span class="src-str">&quot;;\n&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a276"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a277"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a278"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Node&nbsp;may&nbsp;be&nbsp;selected</span></div></li>
<li><div class="src-line"><a name="a279"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$nodeObj</span><span class="src-sym">-&gt;</span><span class="src-id">selected</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a280"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$html&nbsp;</span>.=&nbsp;<span class="src-str">&quot;</span><span class="src-str">\t<span class="src-var">$return</span>.<span class="src-id">selected</span>&nbsp;=&nbsp;'</span><span class="src-str">&quot;&nbsp;</span>.&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">selectedStyle&nbsp;</span>.&nbsp;<span class="src-str">&quot;';\n&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a281"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a282"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a283"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-var">$html</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a284"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;_nodeToHTML</span></div></li>
<li><div class="src-line"><a name="a285"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a286"></a><span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;class&nbsp;HTML_TreeMenu_DHTMLXL</span></div></li>
<li><div class="src-line"><a name="a287"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a288"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a289"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a290"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a291"></a><span class="src-comm">//&nbsp;class&nbsp;HTML_TreeMenu_RigidXL</span></div></li>
<li><div class="src-line"><a name="a292"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;Statically&nbsp;generate&nbsp;a&nbsp;&quot;rigid&quot;&nbsp;tree&nbsp;menu</span></div></li>
<li><div class="src-line"><a name="a293"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a294"></a><span class="src-key">class&nbsp;</span><a href="../default/HTML_TreeMenu_RigidXL.html">HTML_TreeMenu_RigidXL</a>&nbsp;<span class="src-key">extends&nbsp;</span><a href="../default/HTML_TreeMenu_Presentation.html#methodHTML_TreeMenu_Presentation">HTML_TreeMenu_Presentation</a></div></li>
<li><div class="src-line"><a name="a295"></a><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a296"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a297"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;toHTML&nbsp;--&nbsp;Returns&nbsp;HTML&nbsp;string&nbsp;for&nbsp;the&nbsp;menu</span></div></li>
<li><div class="src-line"><a name="a298"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_RigidXL.html#methodtoHTML">toHTML</a><span class="src-sym">(</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a299"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a300"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Generate&nbsp;Static&nbsp;Menu</span></div></li>
<li><div class="src-line"><a name="a301"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$html&nbsp;</span>=&nbsp;<span class="src-str">''</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a302"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i&nbsp;</span>&lt;&nbsp;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span></div></li>
<li><div class="src-line"><a name="a303"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$html&nbsp;</span>.=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_RigidXL.html#method_printStaticMenu">_printStaticMenu</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">,&nbsp;</span><span class="src-var">$i</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a304"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-var">$html</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a305"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;toHTML</span></div></li>
<li><div class="src-line"><a name="a306"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a307"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a308"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">/////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a309"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Helper&nbsp;Functions&nbsp;for&nbsp;HTML_TreeMenu_RigidXL</span></div></li>
<li><div class="src-line"><a name="a310"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">/////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a311"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a312"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;_printStaticMenu&nbsp;--&nbsp;Print&nbsp;current&nbsp;node&nbsp;and&nbsp;all&nbsp;subnodes</span></div></li>
<li><div class="src-line"><a name="a313"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;&nbsp;$np:&nbsp;Node&nbsp;parent</span></div></li>
<li><div class="src-line"><a name="a314"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;&nbsp;$ni:&nbsp;Index&nbsp;in&nbsp;parent&nbsp;of&nbsp;current&nbsp;node</span></div></li>
<li><div class="src-line"><a name="a315"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;&nbsp;$treelevel:&nbsp;Level&nbsp;in&nbsp;tree&nbsp;of&nbsp;current&nbsp;node</span></div></li>
<li><div class="src-line"><a name="a316"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;&nbsp;$prepend:&nbsp;string&nbsp;of&nbsp;HTML&nbsp;to&nbsp;prepend&nbsp;to&nbsp;current&nbsp;node</span></div></li>
<li><div class="src-line"><a name="a317"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_RigidXL.html#method_printStaticMenu">_printStaticMenu</a><span class="src-sym">(</span><span class="src-var">$np</span><span class="src-sym">,&nbsp;</span><span class="src-var">$ni</span><span class="src-sym">,&nbsp;</span><span class="src-var">$treelevel</span>=<span class="src-num">0</span><span class="src-sym">,&nbsp;</span><span class="src-var">$prepend</span>=<span class="src-str">''</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a318"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a319"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-var">$np</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">[</span><span class="src-var">$ni</span><span class="src-sym">]</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a320"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$cntSubnodes&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-num">0&nbsp;</span>:&nbsp;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a321"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$cntSiblings&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$np</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-num">0&nbsp;</span>:&nbsp;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$np</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a322"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a323"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Gif&nbsp;modifier</span></div></li>
<li><div class="src-line"><a name="a324"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-var">$ni&nbsp;</span>==&nbsp;<span class="src-num">0&nbsp;</span>&amp;&amp;&nbsp;<span class="src-var">$treelevel&nbsp;</span>==&nbsp;<span class="src-num">0</span><span class="src-sym">)&nbsp;&nbsp;&nbsp;</span><span class="src-var">$modifier&nbsp;</span>=&nbsp;<span class="src-var">$cntSubnodes&nbsp;</span>&gt;&nbsp;<span class="src-num">1&nbsp;</span>?&nbsp;<span class="src-str">'top'&nbsp;</span>:&nbsp;<span class="src-str">'single'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a325"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">elseif&nbsp;</span><span class="src-sym">(</span><span class="src-var">$ni&nbsp;</span>==&nbsp;<span class="src-sym">(</span><span class="src-var">$cntSiblings&nbsp;</span>-&nbsp;<span class="src-num">1</span><span class="src-sym">))&nbsp;</span><span class="src-var">$modifier&nbsp;</span>=&nbsp;<span class="src-str">'bottom'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a326"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-var">$modifier&nbsp;</span>=&nbsp;<span class="src-str">''</span><span class="src-sym">;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a327"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$html&nbsp;</span>=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_RigidXL.html#method_printNode">_printNode</a><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">,&nbsp;</span><span class="src-var">$treelevel</span><span class="src-sym">,&nbsp;</span><span class="src-var">$prepend</span><span class="src-sym">,&nbsp;</span><span class="src-var">$modifier</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a328"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a329"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Print&nbsp;any&nbsp;subnodes</span></div></li>
<li><div class="src-line"><a name="a330"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>&lt;<span class="src-var">$cntSubnodes</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a331"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Determine&nbsp;what&nbsp;to&nbsp;prepend&nbsp;to&nbsp;child&nbsp;subnode&nbsp;entries.</span></div></li>
<li><div class="src-line"><a name="a332"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$newPrepend&nbsp;</span>=&nbsp;<span class="src-var">$prepend</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a333"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">images</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a334"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;No&nbsp;images.&nbsp;&nbsp;Use&nbsp;spaces&nbsp;instead</span></div></li>
<li><div class="src-line"><a name="a335"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$newPrepend&nbsp;</span>.=&nbsp;<span class="src-str">'&amp;nbsp;&amp;nbsp;'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a336"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a337"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">else&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a338"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Prepend&nbsp;images&nbsp;to&nbsp;each&nbsp;menu&nbsp;entry</span></div></li>
<li><div class="src-line"><a name="a339"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//if&nbsp;($treelevel&nbsp;==&nbsp;0&nbsp;&amp;&amp;&nbsp;$cntSiblings&nbsp;==&nbsp;1)&nbsp;$nppimg&nbsp;=&nbsp;'';</span></div></li>
<li><div class="src-line"><a name="a340"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//^^^&nbsp;&nbsp;This&nbsp;special&nbsp;case&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;static&nbsp;menus.</span></div></li>
<li><div class="src-line"><a name="a341"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Why?&nbsp;&nbsp;Bwaaa&nbsp;Ha&nbsp;Ha&nbsp;Ha&nbsp;Haaaaaaa!!&nbsp;&nbsp;Try&nbsp;it&nbsp;and&nbsp;see.&nbsp;&nbsp;Happy&nbsp;Halloween...</span></div></li>
<li><div class="src-line"><a name="a342"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-var">$ni&nbsp;</span>&lt;&nbsp;<span class="src-sym">(</span><span class="src-var">$cntSiblings&nbsp;</span>-&nbsp;<span class="src-num">1</span><span class="src-sym">))&nbsp;&nbsp;</span><span class="src-var">$nppimg&nbsp;</span>=&nbsp;<span class="src-str">'line.gif'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a343"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-var">$nppimg&nbsp;</span>=&nbsp;<span class="src-str">'linebottom.gif'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a344"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a345"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$lineImageWidth&nbsp;&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">lineImageWidth</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">lineImageWidth&nbsp;</span>:&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">lineImageWidth</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a346"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$lineImageHeight&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">lineImageHeight</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">lineImageHeight&nbsp;</span>:&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">lineImageHeight</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a347"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$newPrepend&nbsp;</span>.=&nbsp;<a href="http://www.php.net/sprintf">sprintf</a><span class="src-sym">(</span><span class="src-str">'&lt;img&nbsp;src=&quot;%s/%s&quot;&nbsp;width=&quot;%d&quot;&nbsp;height=&quot;%d&quot;&nbsp;align=&quot;top&quot;&gt;'</span><span class="src-sym">,&nbsp;</span></div></li>
<li><div class="src-line"><a name="a348"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">images</span><span class="src-sym">,&nbsp;</span><span class="src-var">$nppimg</span><span class="src-sym">,&nbsp;</span><span class="src-var">$lineImageWidth</span><span class="src-sym">,&nbsp;</span><span class="src-var">$lineImageHeight</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a349"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a350"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a351"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Now&nbsp;print&nbsp;the&nbsp;menu&nbsp;entry&nbsp;for&nbsp;this&nbsp;node</span></div></li>
<li><div class="src-line"><a name="a352"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$html&nbsp;</span>.=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_RigidXL.html#method_printStaticMenu">_printStaticMenu</a><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">,&nbsp;</span><span class="src-var">$i</span><span class="src-sym">,&nbsp;</span><span class="src-var">$treelevel</span>+<span class="src-num">1</span><span class="src-sym">,&nbsp;</span><span class="src-var">$newPrepend</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a353"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a354"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-var">$html</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a355"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;_printStaticMenu</span></div></li>
<li><div class="src-line"><a name="a356"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a357"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a358"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Return&nbsp;static&nbsp;HTML&nbsp;for&nbsp;a&nbsp;single&nbsp;menu&nbsp;node</span></div></li>
<li><div class="src-line"><a name="a359"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;This&nbsp;code&nbsp;is&nbsp;based&nbsp;on&nbsp;the&nbsp;JavaScript&nbsp;function&nbsp;drawMenu().</span></div></li>
<li><div class="src-line"><a name="a360"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_RigidXL.html#method_printNode">_printNode</a><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">,&nbsp;</span><span class="src-var">$treelevel</span><span class="src-sym">,&nbsp;</span><span class="src-var">$prepend</span>=<span class="src-str">''</span><span class="src-sym">,&nbsp;</span><span class="src-var">$modifier</span>=<span class="src-str">''</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a361"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a362"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">images</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a363"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;No&nbsp;images&nbsp;in&nbsp;output</span></div></li>
<li><div class="src-line"><a name="a364"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$iconimg&nbsp;</span>=&nbsp;<span class="src-str">''</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a365"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$imgTag&nbsp;&nbsp;</span>=&nbsp;<span class="src-str">''</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a366"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a367"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">else&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a368"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$lineImageWidth&nbsp;&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">lineImageWidth</span><span class="src-sym">)&nbsp;&nbsp;</span>?&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">lineImageWidth&nbsp;&nbsp;</span>:&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">lineImageWidth</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a369"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$lineImageHeight&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">lineImageHeight</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">lineImageHeight&nbsp;</span>:&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">lineImageHeight</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a370"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$iconImageWidth&nbsp;&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">iconImageWidth</span><span class="src-sym">)&nbsp;&nbsp;</span>?&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">iconImageWidth&nbsp;&nbsp;</span>:&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">iconImageWidth</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a371"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$iconImageHeight&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">iconImageHeight</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">iconImageHeight&nbsp;</span>:&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">iconImageHeight</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a372"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a373"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$gifname&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-str">'branch'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a374"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$iconimg&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">icon&nbsp;</span>?&nbsp;<a href="http://www.php.net/sprintf">sprintf</a><span class="src-sym">(</span><span class="src-str">'&lt;img&nbsp;src=&quot;%s/%s&quot;&nbsp;width=&quot;%d&quot;&nbsp;height=&quot;%d&quot;&nbsp;align=&quot;top&quot;&gt;'</span><span class="src-sym">,&nbsp;</span></div></li>
<li><div class="src-line"><a name="a375"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">images</span><span class="src-sym">,&nbsp;</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">icon</span><span class="src-sym">,&nbsp;</span><span class="src-var">$iconImageWidth</span><span class="src-sym">,&nbsp;</span><span class="src-var">$iconImageHeight</span><span class="src-sym">)&nbsp;</span>:&nbsp;<span class="src-str">''</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a376"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$imgTag&nbsp;&nbsp;&nbsp;&nbsp;</span>=&nbsp;<a href="http://www.php.net/sprintf">sprintf</a><span class="src-sym">(</span><span class="src-str">'&lt;img&nbsp;src=&quot;%s/%s%s.gif&quot;&nbsp;width=&quot;%d&quot;&nbsp;height=&quot;%d&quot;&nbsp;align=&quot;top&quot;&nbsp;border=&quot;0&quot;&nbsp;/&gt;'</span><span class="src-sym">,&nbsp;</span></div></li>
<li><div class="src-line"><a name="a377"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">images</span><span class="src-sym">,&nbsp;</span><span class="src-var">$gifname</span><span class="src-sym">,&nbsp;</span><span class="src-var">$modifier</span><span class="src-sym">,&nbsp;</span><span class="src-var">$lineImageWidth</span><span class="src-sym">,&nbsp;</span><span class="src-var">$lineImageHeight</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a378"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a379"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$linkStart&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">link&nbsp;</span>?&nbsp;<a href="http://www.php.net/sprintf">sprintf</a><span class="src-sym">(</span><span class="src-str">'&lt;a&nbsp;href=&quot;%s&quot;&nbsp;target=&quot;%s&quot;&gt;'</span><span class="src-sym">,&nbsp;</span></div></li>
<li><div class="src-line"><a name="a380"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">link</span><span class="src-sym">,&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">linkTarget</span><span class="src-sym">)&nbsp;</span>:&nbsp;<span class="src-str">''</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a381"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$linkEnd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">link&nbsp;</span>?&nbsp;<span class="src-str">'&lt;/a&gt;'&nbsp;</span>:&nbsp;<span class="src-str">''</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a382"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a383"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$selectedStart&nbsp;</span>=&nbsp;<span class="src-str">''</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a384"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$selectedEnd&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-str">''</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a385"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">selected</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a386"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$selectedStart&nbsp;</span>=&nbsp;<span class="src-str">&quot;&lt;span&nbsp;class='&quot;&nbsp;</span>.&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">selectedStyle&nbsp;</span>.&nbsp;<span class="src-str">&quot;'&gt;&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a387"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$selectedEnd&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-str">&quot;&lt;/span&gt;&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a388"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a389"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a390"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;cc&nbsp;2002-11-12,&nbsp;this&nbsp;depends&nbsp;on&nbsp;operation&nbsp;of&nbsp;_checkproperties()</span></div></li>
<li><div class="src-line"><a name="a391"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$cssClass&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">cssClass</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">defaultClass&nbsp;</span>:&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">cssClass</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a392"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-var">$cssClass&nbsp;</span>==&nbsp;<span class="src-str">'auto'</span><span class="src-sym">)&nbsp;</span><span class="src-var">$cssClass&nbsp;</span>=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">autostyles</span><span class="src-sym">[</span><a href="http://www.php.net/min">min</a><span class="src-sym">(</span><span class="src-var">$treelevel</span><span class="src-sym">,&nbsp;</span><a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">autostyles</span><span class="src-sym">)</span>-<span class="src-num">1</span><span class="src-sym">)</span><span class="src-sym">]</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a393"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$cssStart&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$cssClass</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-str">''&nbsp;</span>:&nbsp;<span class="src-str">'&lt;span&nbsp;class=&quot;'&nbsp;</span>.&nbsp;<span class="src-var">$cssClass&nbsp;</span>.&nbsp;<span class="src-str">'&quot;&gt;'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a394"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$cssEnd&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$cssClass</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-str">''&nbsp;</span>:&nbsp;<span class="src-str">'&lt;/span&gt;'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a395"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a396"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-str">'&lt;nobr&gt;'</span>.&nbsp;<span class="src-var">$cssStart&nbsp;</span>.&nbsp;<span class="src-var">$prepend&nbsp;</span>.&nbsp;</div></li>
<li><div class="src-line"><a name="a397"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">(</span><span class="src-var">$treelevel&nbsp;</span>==&nbsp;<span class="src-num">0&nbsp;</span>&amp;&amp;&nbsp;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)&nbsp;</span>==&nbsp;<span class="src-num">1&nbsp;</span>?&nbsp;<span class="src-str">''&nbsp;</span>:&nbsp;<span class="src-var">$imgTag</span><span class="src-sym">)&nbsp;</span>.&nbsp;<span class="src-comm">//&nbsp;cc&nbsp;2002-12-02&nbsp;may&nbsp;need&nbsp;fixing...</span></div></li>
<li><div class="src-line"><a name="a398"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$iconimg&nbsp;</span>.</div></li>
<li><div class="src-line"><a name="a399"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$selectedStart&nbsp;</span>.&nbsp;<span class="src-var">$linkStart&nbsp;</span>.&nbsp;<span class="src-var">$n</span><span class="src-sym">-&gt;</span><span class="src-id">text&nbsp;</span>.&nbsp;<span class="src-var">$linkEnd&nbsp;</span>.&nbsp;<span class="src-var">$selectedEnd&nbsp;</span>.</div></li>
<li><div class="src-line"><a name="a400"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$cssEnd&nbsp;</span>.&nbsp;<span class="src-str">&quot;&lt;/nobr&gt;&lt;br&gt;\n&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a401"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;_printNode</span></div></li>
<li><div class="src-line"><a name="a402"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a403"></a><span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;HTML_TreeMenu_RigidXL</span></div></li>
<li><div class="src-line"><a name="a404"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a405"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a406"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a407"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a408"></a><span class="src-comm">//&nbsp;class&nbsp;HTML_TreeMenu_ListboxXL&nbsp;extends&nbsp;HTML_TreeMenu_Presentation</span></div></li>
<li><div class="src-line"><a name="a409"></a><span class="src-comm">//</span></div></li>
<li><div class="src-line"><a name="a410"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;NOT&nbsp;an&nbsp;extension&nbsp;of&nbsp;the&nbsp;base&nbsp;Listbox&nbsp;class,&nbsp;rather&nbsp;it's&nbsp;a&nbsp;hybrid</span></div></li>
<li><div class="src-line"><a name="a411"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;of&nbsp;my&nbsp;original&nbsp;implementation&nbsp;and&nbsp;Richard's&nbsp;version.&nbsp;&nbsp;I've&nbsp;rewritten&nbsp;mine</span></div></li>
<li><div class="src-line"><a name="a412"></a><span class="src-comm">//&nbsp;&nbsp;&nbsp;to&nbsp;match&nbsp;his&nbsp;as&nbsp;closely&nbsp;as&nbsp;possible,&nbsp;so&nbsp;that&nbsp;the&nbsp;essential&nbsp;differences&nbsp;are&nbsp;apparent.</span></div></li>
<li><div class="src-line"><a name="a413"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a414"></a><span class="src-key">class&nbsp;</span><a href="../default/HTML_TreeMenu_ListboxXL.html">HTML_TreeMenu_ListboxXL</a>&nbsp;&nbsp;<span class="src-key">extends&nbsp;</span><a href="../default/HTML_TreeMenu_Presentation.html#methodHTML_TreeMenu_Presentation">HTML_TreeMenu_Presentation</a></div></li>
<li><div class="src-line"><a name="a415"></a><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a416"></a>&nbsp;&nbsp;<span class="src-doc">/**</span></div></li>
<li><div class="src-line"><a name="a417"></a><span class="src-doc">&nbsp;&nbsp;*&nbsp;The&nbsp;default&nbsp;presentation&nbsp;properties&nbsp;list&nbsp;-</span></div></li>
<li><div class="src-line"><a name="a418"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;By&nbsp;replacing&nbsp;the&nbsp;entire&nbsp;list,&nbsp;there&nbsp;is&nbsp;no&nbsp;need&nbsp;to&nbsp;subclass&nbsp;the&nbsp;constructor.</span></div></li>
<li><div class="src-line"><a name="a419"></a><span class="src-doc">&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@var&nbsp;</span><span class="src-doc-type">array&nbsp;</span></div></li>
<li><div class="src-line"><a name="a420"></a><span class="src-doc">&nbsp;&nbsp;*/</span></div></li>
<li><div class="src-line"><a name="a421"></a>&nbsp;&nbsp;<span class="src-key">var&nbsp;</span><a href="../default/HTML_TreeMenu_ListboxXL.html#var$defaultProperties">$defaultProperties</a>&nbsp;=&nbsp;<span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-comm">//'promoText'&nbsp;=&gt;&nbsp;'Select...',</span></div></li>
<li><div class="src-line"><a name="a422"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'indentChar'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'&amp;nbsp;'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a423"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'indentNum'&nbsp;</span>=&gt;&nbsp;<span class="src-num">2</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a424"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'cssClass'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'tmlistbox'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a425"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'bulletStyles'&nbsp;</span>=&gt;&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">''</span><span class="src-sym">,&nbsp;</span><span class="src-str">'&amp;#8226;&nbsp;'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'--&nbsp;'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'&amp;nbsp;-&nbsp;'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'&amp;nbsp;&nbsp;'</span><span class="src-sym">)</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a426"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'useBullets'&nbsp;</span>=&gt;&nbsp;<span class="src-id">false&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a427"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a428"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;toHTML&nbsp;--&nbsp;Generate&nbsp;HTML&nbsp;for&nbsp;a&nbsp;listbox&nbsp;from&nbsp;current&nbsp;menu&nbsp;object.</span></div></li>
<li><div class="src-line"><a name="a429"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;We&nbsp;print&nbsp;the&nbsp;entire&nbsp;&lt;form&gt;&lt;select&gt;...&lt;/select&gt;&lt;/form&gt;</span></div></li>
<li><div class="src-line"><a name="a430"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_ListboxXL.html#methodtoHTML">toHTML</a><span class="src-sym">(</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a431"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a432"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$cssString&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">cssClass</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-str">''&nbsp;</span>:&nbsp;<a href="http://www.php.net/sprintf">sprintf</a><span class="src-sym">(</span><span class="src-str">'&nbsp;class=&quot;%s&quot;'</span><span class="src-sym">,&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">cssClass</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a433"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$promoString&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">promoText</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-str">''&nbsp;</span>:&nbsp;<a href="http://www.php.net/sprintf">sprintf</a><span class="src-sym">(</span><span class="src-str">'&lt;option&nbsp;value=&quot;&quot;&gt;%s&lt;/option&gt;'</span><span class="src-sym">,&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">promoText</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a434"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a435"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Select&nbsp;the&nbsp;branch(es),&nbsp;if&nbsp;any&nbsp;that&nbsp;contain&nbsp;nodes&nbsp;with&nbsp;matching&nbsp;links.</span></div></li>
<li><div class="src-line"><a name="a436"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">linkSelectKey</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a437"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$keys&nbsp;</span>=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">linkSelectKey</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a438"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><a href="http://www.php.net/is_array">is_array</a><span class="src-sym">(</span><span class="src-var">$keys</span><span class="src-sym">))&nbsp;</span><span class="src-var">$keys&nbsp;</span>=&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-var">$keys</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a439"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">foreach&nbsp;</span><span class="src-sym">(</span><span class="src-var">$keys&nbsp;</span><span class="src-key">as&nbsp;</span><span class="src-var">$key</span><span class="src-sym">)&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_ListboxXL.html#method_expandSelected">_expandSelected</a><span class="src-sym">(&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">,&nbsp;</span><span class="src-var">$key&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a440"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a441"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a442"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Loop&nbsp;through&nbsp;child&nbsp;nodes&nbsp;and&nbsp;gather&nbsp;list&nbsp;of&nbsp;&lt;option&gt;&nbsp;elements.</span></div></li>
<li><div class="src-line"><a name="a443"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$nodeHTML&nbsp;</span>=&nbsp;<span class="src-str">''</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a444"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a445"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>&lt;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a446"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$nodeHTML&nbsp;</span>.=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_ListboxXL.html#method_nodeToHTML">_nodeToHTML</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_Presentation.html#var$menu">menu</a><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a447"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a448"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a449"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a450"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><a href="http://www.php.net/sprintf">sprintf</a><span class="src-sym">(</span><span class="src-str">'&lt;form&nbsp;onsubmit=&quot;var&nbsp;link&nbsp;=&nbsp;this.sl.options[this.sl.selectedIndex].value;&nbsp;if&nbsp;(link)&nbsp;location.href&nbsp;=&nbsp;link;&nbsp;return&nbsp;false&quot;&nbsp;style=&quot;margin-bottom:0px&quot;%s&gt;&lt;select&nbsp;name=&quot;sl&quot;%s&gt;%s%s&lt;/select&gt;&nbsp;&lt;input&nbsp;type=&quot;submit&quot;&nbsp;value=&quot;Go&quot;%s&nbsp;/&gt;&lt;/form&gt;'</span><span class="src-sym">,&nbsp;</span></div></li>
<li><div class="src-line"><a name="a451"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$cssString</span><span class="src-sym">,&nbsp;</span><span class="src-var">$cssString</span><span class="src-sym">,&nbsp;</span><span class="src-var">$promoString</span><span class="src-sym">,&nbsp;</span><span class="src-var">$nodeHTML</span><span class="src-sym">,&nbsp;</span><span class="src-var">$cssString</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a452"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;toHTML</span></div></li>
<li><div class="src-line"><a name="a453"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a454"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a455"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;_nodeToHTML&nbsp;--&nbsp;Helper&nbsp;routine&nbsp;for&nbsp;_printListbox</span></div></li>
<li><div class="src-line"><a name="a456"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Print&nbsp;the&nbsp;&lt;option&gt;&nbsp;tags&nbsp;for&nbsp;the&nbsp;menu&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;$node</span></div></li>
<li><div class="src-line"><a name="a457"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;Note:&nbsp;$node&nbsp;could&nbsp;be&nbsp;either&nbsp;a&nbsp;Menu&nbsp;object&nbsp;or&nbsp;a&nbsp;Node&nbsp;object.</span></div></li>
<li><div class="src-line"><a name="a458"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_ListboxXL.html#method_nodeToHTML">_nodeToHTML</a><span class="src-sym">(</span><span class="src-var">$node</span><span class="src-sym">,&nbsp;</span><span class="src-var">$treelevel</span>=<span class="src-num">0</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a459"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a460"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Is&nbsp;this&nbsp;item&nbsp;selected?</span></div></li>
<li><div class="src-line"><a name="a461"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$selectString&nbsp;</span>=&nbsp;<span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">selected</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-str">''&nbsp;</span>:&nbsp;<span class="src-str">'&nbsp;selected'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a462"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a463"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Leading&nbsp;for&nbsp;node&nbsp;string</span></div></li>
<li><div class="src-line"><a name="a464"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$prefix&nbsp;</span>=&nbsp;<a href="http://www.php.net/str_repeat">str_repeat</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">indentChar</span><span class="src-sym">,&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">indentNum&nbsp;</span>*&nbsp;<span class="src-var">$treelevel</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a465"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">useBullets</span><span class="src-sym">)&nbsp;</span>&amp;&amp;&nbsp;<a href="http://www.php.net/is_array">is_array</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">bulletStyles</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a466"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$prefix&nbsp;</span>.=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">bulletStyles</span><span class="src-sym">[</span><a href="http://www.php.net/min">min</a><span class="src-sym">(</span><span class="src-var">$treelevel</span><span class="src-sym">,&nbsp;</span><a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-var">bulletStyles</span><span class="src-sym">)</span>-<span class="src-num">1</span><span class="src-sym">)</span><span class="src-sym">]</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a467"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a468"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a469"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Print&nbsp;node&nbsp;string&nbsp;and&nbsp;&lt;/option&gt;</span></div></li>
<li><div class="src-line"><a name="a470"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$html&nbsp;</span>=&nbsp;<a href="http://www.php.net/sprintf">sprintf</a><span class="src-sym">(</span><span class="src-str">'&lt;option&nbsp;value=&quot;%s&quot;%s&gt;%s%s&lt;/option&gt;'</span>.<span class="src-str">&quot;\n&quot;</span><span class="src-sym">,&nbsp;</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">link</span><span class="src-sym">,&nbsp;</span><span class="src-var">$selectString</span><span class="src-sym">,&nbsp;</span><span class="src-var">$prefix</span><span class="src-sym">,&nbsp;</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">text</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a471"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a472"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Proceed&nbsp;through&nbsp;child&nbsp;nodes</span></div></li>
<li><div class="src-line"><a name="a473"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i&nbsp;</span>&lt;&nbsp;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a474"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$html&nbsp;</span>.=&nbsp;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_ListboxXL.html#method_nodeToHTML">_nodeToHTML</a><span class="src-sym">(</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">,&nbsp;</span><span class="src-var">$treelevel</span>+<span class="src-num">1</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a475"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a476"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a477"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-var">$html</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a478"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;_nodeToHTML</span></div></li>
<li><div class="src-line"><a name="a479"></a>&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a480"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a481"></a>&nbsp;&nbsp;<span class="src-comm">//&nbsp;_expandSelected&nbsp;--&nbsp;Set&nbsp;the&nbsp;'selected'&nbsp;property&nbsp;for&nbsp;nodes&nbsp;with&nbsp;matching&nbsp;links.</span></div></li>
<li><div class="src-line"><a name="a482"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;Note:&nbsp;when&nbsp;called&nbsp;the&nbsp;first&nbsp;time&nbsp;$node&nbsp;is&nbsp;the&nbsp;menu&nbsp;object</span></div></li>
<li><div class="src-line"><a name="a483"></a>&nbsp;&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/HTML_TreeMenu_ListboxXL.html#method_expandSelected">_expandSelected</a><span class="src-sym">(&nbsp;</span><span class="src-sym">&amp;</span><span class="src-var">$node</span><span class="src-sym">,&nbsp;</span><span class="src-var">$key&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a484"></a>&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a485"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if&nbsp;</span><span class="src-sym">(</span><span class="src-var">$key&nbsp;</span>==&nbsp;<span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">link</span><span class="src-sym">)&nbsp;</span>?&nbsp;<span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">link&nbsp;</span>:&nbsp;<span class="src-id">null</span><span class="src-sym">))&nbsp;</span><span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a486"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">selected&nbsp;</span>=&nbsp;<span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a487"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a488"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">for&nbsp;</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>&lt;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;</span><span class="src-var">$i</span>++<span class="src-sym">)&nbsp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../default/HTML_TreeMenu_ListboxXL.html#method_expandSelected">_expandSelected</a><span class="src-sym">(&nbsp;</span><span class="src-var">$node</span><span class="src-sym">-&gt;</span><span class="src-id">items</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">,&nbsp;</span><span class="src-var">$key&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a489"></a>&nbsp;&nbsp;<span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;_expandSelected</span></div></li>
<li><div class="src-line"><a name="a490"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a491"></a><span class="src-sym">}&nbsp;</span><span class="src-comm">//&nbsp;class&nbsp;HTML_TreeMenu_ListboxXL</span></div></li>
<li><div class="src-line"><a name="a492"></a><span class="src-comm">////////////////////////////////////////////////////////////////////////////////////</span></div></li>
<li><div class="src-line"><a name="a493"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a494"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a495"></a><span class="src-php">?&gt;</span></div></li>
</ol></div>
</div>
	<p class="notes" id="credit">
		Documentation generated on Wed, 25 Apr 2007 00:16:17 -0700 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.3.2</a>
	</p>
	</body>
</html>